# Notemd Obsidian 插件

[English](./README.md) | [简体中文](./README_zh.md)

```
=============================================
  _   _       _   _ ___    __  __ ___
 | \ | | ___ | |_| |___|  |  \/  |___ \
 |  \| |/ _ \| __| |___|  | |\/| |   | |
 | |\  | (_) | |_| |___   | |  | |___| |
 |_| \_|\___/ \__|_|___|  | |  | |____/
=============================================
      AI驱动的多语言知识增强工具
=============================================
```

一个创建您自己知识库的简单方法！

Notemd 通过与各种大型语言模型 (LLM) 集成来增强您的 Obsidian 工作流程，支持处理**27种多语言**笔记、自动为关键概念生成维基链接、创建相应的概念笔记、执行网络研究等等。

**版本:** 1.3.2

## 目录
- [功能特性](#功能特性)
- [安装](#安装)
- [配置](#配置)
- [使用指南](#使用指南)
- [支持的LLM提供商](#支持的llm提供商)
- [故障排除](#故障排除)
- [贡献](#贡献)
- [许可证](#许可证)

## 功能特性

### AI驱动的文档处理
- **多LLM支持**: 连接到各种云和本地LLM提供商 (参见 [支持的LLM提供商](#支持的llm提供商))。
- **智能分块**: 根据字数自动将大型文档分割成易于处理的小块。
- **内容保留**: 旨在在添加结构和链接的同时保持原始内容格式。
- **进度跟踪**: 通过Notemd侧边栏或进度模式进行实时更新。
- **可取消操作**: 可以通过侧边栏专用取消按钮取消从侧边栏启动的任何处理任务（单个或批量）。命令面板操作使用一个也可以取消的模式。
- **多模型配置**: 为不同任务（添加链接、研究、生成标题、翻译）使用不同的LLM提供商*和*特定模型，或为所有任务使用单个提供商。
- **稳定的API调用 (重试逻辑)**: 可选择为失败的LLM API调用启用自动重试，并可配置重试间隔和尝试次数限制。

### 知识图谱增强
- **自动维基链接**: 根据LLM输出，在您处理过的笔记中识别核心概念并添加 `[[维基链接]]`。
- **概念笔记创建 (可选 & 可自定义)**: 在指定的保险库文件夹中自动为发现的概念创建新笔记。
- **可自定义输出路径**: 在您的保险库中为保存处理过的文件和新创建的概念笔记配置单独的相对路径。
- **可自定义输出文件名 (添加链接)**: 在处理文件以添加链接时，可选择**覆盖原始文件**或使用自定义后缀/替换字符串，而不是默认的 `_processed.md`。
- **链接完整性维护**: 在保险库内重命名或删除笔记时，对更新链接进行基本处理。

### 翻译
- **AI驱动的翻译**:
    - 使用配置的LLM翻译笔记内容。
    - 支持多种语言之间的翻译。
    - 可在设置或UI中自定义目标语言。
    - 自动在原文右侧打开翻译文本，方便阅读。

### 网络研究 & 内容生成
- **网络研究 & 摘要**:
    - 使用Tavily (需要API密钥) 或DuckDuckGo (实验性) 执行网络搜索。
    - 使用配置的LLM总结搜索结果。
    - 将摘要附加到当前笔记。
    - 可配置发送给LLM的研究内容令牌限制。
- **从标题生成内容**:
    - 使用笔记标题通过LLM生成初始内容，替换现有内容。
    - **可选研究**: 配置是否执行网络研究 (使用选定的提供商) 为生成提供上下文。
- **从标题批量生成内容**: 根据标题为选定文件夹中的所有笔记生成内容 (遵循可选研究设置)。成功处理的文件将移动到**可配置的“完成”子文件夹** (例如 `[foldername]_complete` 或自定义名称) 以避免重复处理。

### 实用功能
- **重复检测**: 对当前处理文件内容中的重复单词进行基本检查 (结果记录到控制台)。
- **检查并删除重复概念笔记**: 根据精确名称匹配、复数形式、规范化以及与文件夹外笔记的单字包含情况，识别配置的**概念笔记文件夹**中潜在的重复笔记。比较范围（检查概念文件夹外的哪些笔记）可以配置为**整个保险库**、**仅特定包含的文件夹**或**排除特定文件夹外的所有文件夹**。显示包含原因和冲突文件的详细列表，然后在将识别出的重复项移动到系统回收站之前提示确认。删除过程中显示进度。
- **批量Mermaid修复**: 将Mermaid和LaTeX语法校正 (`refineMermaidBlocks` 和 `cleanupLatexDelimiters`) 应用于用户选定文件夹中的所有Markdown文件。
- **LLM连接测试**: 验证活动提供商的API设置。

## 安装

### 从Obsidian市场 (推荐)
1. 打开Obsidian **设置** → **社区插件**。
2. 确保“受限模式”已**关闭**。
3. 点击**浏览**社区插件并搜索“Notemd”。
4. 点击**安装**。
5. 安装完成后，点击**启用**。

### 手动安装
1. 从 [GitHub发布页面](https://github.com/Jacobinwwey/obsidian-NotEMD/releases) 下载最新的发布文件 (`main.js`, `styles.css`, `manifest.json`)。
2. 导航到您的Obsidian保险库配置文件夹: `<您的保险库>/.obsidian/plugins/`。
3. 创建一个名为 `notemd` 的新文件夹。
4. 将下载的 `main.js`, `styles.css`, 和 `manifest.json` 文件复制到 `notemd` 文件夹中。
5. 重新启动Obsidian。
6. 转到 **设置** → **社区插件** 并启用“Notemd”。

## 配置

通过以下方式访问插件设置:
**设置** → **社区插件** → **Notemd** (点击齿轮图标)。

### LLM提供商配置
1.  **活动提供商**: 从下拉菜单中选择您要使用的LLM提供商。
2.  **提供商设置**: 配置所选提供商的具体设置:
    *   **API密钥**: 大多数云提供商 (例如 OpenAI, Anthropic, DeepSeek, Google, Mistral, Azure, OpenRouter) 都需要。Ollama不需要。LMStudio通常使用 `EMPTY` 或可以留空。
    *   **基础URL / 端点**: 服务的API端点。提供了默认值，但您可能需要为本地模型 (LMStudio, Ollama)、OpenRouter或特定的Azure部署更改此设置。**Azure OpenAI必需。**
    *   **模型**: 要使用的特定模型名称/ID (例如 `gpt-4o`, `claude-3-5-sonnet-20240620`, `google/gemini-flash-1.5`, `llama3`, `mistral-large-latest`)。确保模型在您的端点/提供商处可用。对于OpenRouter，请使用其网站上显示的型号ID (例如 `gryphe/mythomax-l2-13b`)。
    *   **温度**: 控制LLM输出的随机性 (0=确定性, 1=最大创造力)。较低的值 (例如0.2-0.5) 通常更适合结构化任务。
    *   **API版本 (仅限Azure)**: Azure OpenAI部署必需 (例如 `2024-02-15-preview`)。
3.  **测试连接**: 使用活动提供商的“测试连接”按钮验证您的设置。此功能现在对LM Studio使用更可靠的方法。
4.  **管理提供商配置**: 使用“导出提供商”和“导入提供商”按钮将您的LLM提供商设置保存到/从插件配置目录中的 `notemd-providers.json` 文件加载。这便于备份和共享。

### 多模型配置
-   **为任务使用不同提供商**:
    *   **禁用 (默认)**: 所有任务都使用上面选择的单个“活动提供商”。
    *   **启用**: 允许您为每个任务 (“添加链接”、“研究与摘要”、“从标题生成”、“翻译”) 选择特定的提供商*并*可选择覆盖模型名称。如果任务的模型覆盖字段留空，它将使用为该任务选定提供商配置的默认模型。

### 稳定API调用设置
-   **启用稳定API调用 (重试逻辑)**:
    *   **禁用 (默认)**: 单个API调用失败将停止当前任务。
    *   **启用**: 自动重试失败的LLM API调用 (对于间歇性网络问题或速率限制很有用)。
-   **重试间隔 (秒)**: (仅在启用时可见) 重试尝试之间等待的时间 (1-300秒)。默认值: 5。
-   **最大重试次数**: (仅在启用时可见) 最大重试尝试次数 (0-10)。默认值: 3。

### 常规设置

#### 处理文件输出
-   **自定义处理文件保存路径**:
    *   **禁用 (默认)**: 处理过的文件 (例如 `YourNote_processed.md`) 保存在与原始笔记*相同的文件夹*中。
    *   **启用**: 允许您指定自定义保存位置。
-   **处理文件文件夹路径**: (仅在启用上述选项时可见) 输入保险库内的*相对路径* (例如 `Processed Notes` 或 `Output/LLM`)，处理过的文件将保存在此处。如果文件夹不存在，则会创建它们。**请勿使用绝对路径 (如 C:\...) 或无效字符。**
-   **为“添加链接”使用自定义输出文件名**:
    *   **禁用 (默认)**: “添加链接”命令创建的处理文件使用默认的 `_processed.md` 后缀 (例如 `YourNote_processed.md`)。
    *   **启用**: 允许您使用以下设置自定义输出文件名。
-   **自定义后缀/替换字符串**: (仅在启用上述选项时可见) 输入用于输出文件名的字符串。
    *   如果留**空**，原始文件将被处理后的内容**覆盖**。
    *   如果您输入一个字符串 (例如 `_linked`)，它将被附加到原始基本名称 (例如 `YourNote_linked.md`)。确保后缀不包含无效的文件名字符。

-   **添加链接时删除代码围栏**:
    *   **禁用 (默认)**: 添加链接时，代码围栏 **(\`\`\`)** 会保留在内容中，并且 **(\`\`\`markdown)** 会自动删除。
    *   **启用**: 在添加链接之前从内容中删除代码围栏。

#### 概念笔记输出
-   **自定义概念笔记路径**:
    *   **禁用 (默认)**: 禁用为 `[[链接概念]]` 自动创建笔记。
    *   **启用**: 允许您指定一个文件夹，新概念笔记将在此创建。
-   **概念笔记文件夹路径**: (仅在启用上述选项时可见) 输入保险库内的*相对路径* (例如 `Concepts` 或 `Generated/Topics`)，新概念笔记将保存在此处。如果文件夹不存在，则会创建它们。**如果启用了自定义，则必须填写。** **请勿使用绝对路径或无效字符。**

#### 概念日志文件输出
-   **生成概念日志文件**:
    *   **禁用 (默认)**: 不生成日志文件。
    *   **启用**: 创建一个日志文件，列出处理后新创建的概念笔记。格式如下:
        ```
        生成 xx 个概念 md 文件
        1. 概念1
        2. 概念2
        ...
        n. 概念n
        ```
-   **自定义日志文件保存路径**: (仅在启用“生成概念日志文件”时可见)
    *   **禁用 (默认)**: 日志文件保存在**概念笔记文件夹路径**(如果已指定) 或保险库根目录。
    *   **启用**: 允许您为日志文件指定自定义文件夹。
-   **概念日志文件夹路径**: (仅在启用“自定义日志文件保存路径”时可见) 输入保险库内的*相对路径* (例如 `Logs/Notemd`)，日志文件将保存在此处。**如果启用了自定义，则必须填写。**
-   **自定义日志文件名**: (仅在启用“生成概念日志文件”时可见)
    *   **禁用 (默认)**: 日志文件名为 `Generate.log`。
    *   **启用**: 允许您为日志文件指定自定义名称。
-   **概念日志文件名**: (仅在启用“自定义日志文件名”时可见) 输入所需的文件名 (例如 `ConceptCreation.log`)。**如果启用了自定义，则必须填写。**

#### 处理参数
-   **分块字数**: 发送给LLM的每个分块的最大字数。影响大型文件的API调用次数。(默认: 3000)
-   **启用重复检测**: 切换对处理内容中重复单词的基本检查 (结果在控制台中)。(默认: 启用)
-   **最大令牌数**: LLM每个响应分块应生成的最大令牌数。影响成本和详细程度。(默认: 4096)

#### 翻译
-   **默认目标语言**: 选择您希望将笔记翻译成的默认语言。在运行翻译命令时可以在UI中覆盖此设置。(默认: 英语)
-   **自定义翻译文件保存路径**:
    *   **禁用 (默认)**: 翻译后的文件保存在与原始笔记*相同的文件夹*中。
    *   **启用**: 允许您指定保险库内的*相对路径* (例如 `Translations`)，翻译后的文件将保存在此处。如果文件夹不存在，则会创建它们。
-   **为翻译文件使用自定义后缀**:
    *   **禁用 (默认)**: 翻译后的文件使用默认的 `_translated.md` 后缀 (例如 `YourNote_translated.md`)。
    *   **启用**: 允许您指定自定义后缀。
-   **自定义后缀**: (仅在启用上述选项时可见) 输入要附加到翻译文件名的自定义后缀 (例如 `_es` 或 `_fr`)。

#### 内容生成
-   **在“从标题生成”中启用研究**:
    *   **禁用 (默认)**: “从标题生成”仅使用标题作为输入。
    *   **启用**: 执行网络研究 (使用配置的**网络研究提供商**) 并将研究结果作为上下文包含在LLM基于标题的生成中。
-   **输出语言**: (新增) 为“从标题生成”和“从标题批量生成”任务选择所需的输出语言。
    *   **英语 (默认)**: 提示以英语处理和输出。
    *   **其他语言**: 指示LLM以英语进行推理，但以您选择的语言 (例如 西班牙语、法语、简体中文、阿拉伯语、印地语等) 提供最终文档。
-   **更改提示词**: (新增)
    *   **更改提示词**: 允许您更改特定任务的提示词。
    *   **自定义提示词**: 输入您任务的自定义提示词。
-   **为“从标题生成”使用自定义输出文件夹**:
    *   **禁用 (默认)**: 成功生成的文件将移动到相对于原始文件夹父目录的名为 `[OriginalFolderName]_complete` 的子文件夹中 (如果原始文件夹是根目录，则为 `Vault_complete`)。
    *   **启用**: 允许您为移动已完成文件的子文件夹指定自定义名称。
-   **自定义输出文件夹名称**: (仅在启用上述选项时可见) 输入子文件夹的所需名称 (例如 `Generated Content`, `_complete`)。不允许使用无效字符。如果留空，则默认为 `_complete`。此文件夹创建在原始文件夹的父目录的相对位置。

#### 网络研究提供商
-   **搜索提供商**: 在 `Tavily` (需要API密钥，推荐) 和 `DuckDuckGo` (实验性，经常被搜索引擎阻止自动请求) 之间选择。用于“研究与摘要主题”以及可选用于“从标题生成”。
-   **Tavily API密钥**: (仅在选择Tavily时可见) 输入您从 [tavily.com](https://tavily.com/) 获取的API密钥。
-   **Tavily最大结果数**: (仅在选择Tavily时可见) Tavily应返回的最大搜索结果数 (1-20)。默认值: 5。
-   **Tavily搜索深度**: (仅在选择Tavily时可见) 选择 `basic` (默认) 或 `advanced`。注意: `advanced` 提供更好的结果，但每次搜索消耗2个API积分，而不是1个。
-   **DuckDuckGo最大结果数**: (仅在选择DuckDuckGo时可见) 要解析的最大搜索结果数 (1-10)。默认值: 5。
-   **DuckDuckGo内容获取超时**: (仅在选择DuckDuckGo时可见) 尝试从每个DuckDuckGo结果URL获取内容时等待的最长时间 (秒)。默认值: 15。
-   **最大研究内容令牌数**: 从组合的网络研究结果 (片段/获取的内容) 中包含在摘要提示中的近似最大令牌数。有助于管理上下文窗口大小和成本。(默认: 3000)

#### 重复检查范围
-   **重复检查范围模式**: 控制对照概念笔记文件夹中的笔记检查哪些文件以查找潜在的重复项。
    *   **整个保险库 (默认)**: 将概念笔记与保险库中的所有其他笔记进行比较 (不包括概念笔记文件夹本身)。
    *   **仅包括特定文件夹**: 仅将概念笔记与下面列出的文件夹中的笔记进行比较。
    *   **排除特定文件夹**: 将概念笔记与*除*下面列出的文件夹中的笔记 (也不包括概念笔记文件夹) 之外的所有笔记进行比较。
    *   **仅概念文件夹**: 仅将概念笔记与*概念笔记文件夹内的其他笔记*进行比较。这有助于纯粹在您生成的概念中查找重复项。
-   **包括/排除文件夹**: (仅当模式为“包括”或“排除”时可见) 输入您要包括或排除的文件夹的*相对路径*，**每行一个路径**。路径区分大小写，并使用 `/`作为分隔符 (例如 `Reference Material/Papers` 或 `Daily Notes`)。这些文件夹不能与概念笔记文件夹相同或位于其内部。

## 使用指南

### 原始处理 (添加维基链接)
这是专注于识别概念并添加 `[[维基链接]]` 的核心功能。

**重要提示:** 此过程仅适用于 `.md` 或 `.txt` 文件。

1.  **使用侧边栏**:
    *   打开Notemd侧边栏 (魔杖图标或命令面板)。
    *   打开 `.md` 或 `.txt` 文件。
    *   点击 **“处理文件 (添加链接)”**。
    *   要处理文件夹: 点击 **“处理文件夹 (添加链接)”**，选择文件夹，然后点击“处理”。
    *   进度显示在侧边栏中。您可以使用侧边栏中的“取消处理”按钮取消任务。
    *   *文件夹处理注意事项:* 文件在后台处理，不会在编辑器中打开。

2.  **使用命令面板** (`Ctrl+P` 或 `Cmd+P`):
    *   **单个文件**: 打开文件并运行 `Notemd: 处理当前文件`。
    *   **文件夹**: 运行 `Notemd: 处理文件夹`，然后选择文件夹。文件在后台处理，不会在编辑器中打开。
    *   命令面板操作会显示一个进度模式，其中包含一个取消按钮。
    *   *注意:* 如果在最终处理内容中发现前导 `\boxed{` 和尾随 `}` 行，插件会在保存前自动删除它们。

### 新功能 (翻译、网络研究 & 内容生成)

1.  **翻译笔记/选区**:
    *   在笔记中选择文本以仅翻译该选区，或在没有选区的情况下调用命令以翻译整个笔记。
    *   运行命令 `Notemd: 翻译笔记/选区` (通过命令面板或侧边栏按钮)。
    *   将出现一个模式窗口，允许您确认或更改**目标语言** (默认为配置中指定的设置)。
    *   插件使用配置的**LLM提供商** (基于多模型设置) 执行翻译。
    *   翻译后的内容将保存到配置的**翻译保存路径**并带有适当的后缀，并在原始内容**右侧的新窗格**中打开，以便于比较。
    *   您可以通过侧边栏按钮或模式取消按钮取消此任务。

2.  **研究与摘要主题**:
    *   在笔记中选择文本或确保笔记有标题 (这将是搜索主题)。
    *   运行命令 `Notemd: 研究和摘要主题` (通过命令面板或侧边栏按钮)。
    *   插件使用配置的**搜索提供商** (Tavily/DuckDuckGo) 和适当的**LLM提供商** (基于多模型设置) 来查找和总结信息。
    *   摘要将附加到当前笔记。
    *   您可以通过侧边栏按钮或模式取消按钮取消此任务。
    *   *注意:* 由于机器人检测，DuckDuckGo搜索可能会失败。推荐使用Tavily。

3.  **从标题生成内容**:
    *   打开一个笔记 (可以为空)。
    *   运行命令 `Notemd: 从标题生成内容` (通过命令面板或侧边栏按钮)。
    *   插件使用适当的**LLM提供商** (基于多模型设置) 根据笔记标题生成内容，替换任何现有内容。
    *   如果启用了 **“在‘从标题生成’中启用研究”** 设置，它将首先执行网络研究 (使用配置的**网络研究提供商**) 并将该上下文包含在发送给LLM的提示中。
    *   您可以通过侧边栏按钮或模式取消按钮取消此任务。

4.  **从标题批量生成内容**:
    *   运行命令 `Notemd: 从标题批量生成内容` (通过命令面板或侧边栏按钮)。
    *   选择包含要处理的笔记的文件夹。
    *   插件将遍历文件夹中的每个 `.md` 文件 (不包括 `_processed.md` 文件和指定“完成”文件夹中的文件)，根据笔记标题生成内容并替换现有内容。文件在后台处理，不会在编辑器中打开。
    *   成功处理的文件将移动到配置的“完成”文件夹。
    *   此命令遵循每个处理笔记的 **“在‘从标题生成’中启用研究”** 设置。
    *   您可以通过侧边栏按钮或模式取消按钮取消此任务。

### 实用工具

1.  **检查重复项**:
    *   打开 `.md` 或 `.txt` 文件。
    *   运行 `Notemd: 检查当前文件中的重复项` (通过命令面板或侧边栏按钮)。
    *   结果记录到开发者控制台 (`Ctrl+Shift+I`) 并在通知/侧边栏日志中提及。

2.  **测试LLM连接**:
    *   运行 `Notemd: 测试LLM连接` (通过命令面板或侧边栏按钮)。
    *   测试与主下拉列表中选择的**活动提供商**的连接。
    *   结果显示为通知和侧边栏日志/控制台中。

3.  **批量Mermaid修复**:
    *   运行 `Notemd: 批量修复Mermaid语法` (通过命令面板或侧边栏按钮)。
    *   选择包含要修复的Markdown文件的文件夹。
    *   插件将遍历每个 `.md` 文件，应用语法校正，并在进行任何更改后保存更改。校正包括:
        *   确保正确的Mermaid块结构。
        *   从Mermaid图中删除多余的圆括号 `()` 和花括号 `{}`。
        *   规范化LaTeX数学分隔符 (例如 `\(\)` 到 `$` )。
    *   进度和结果 (修改的文件数、错误) 显示在侧边栏/模式日志中。

4.  **检查并删除重复概念笔记**:
    *   确保在设置中正确配置了**概念笔记文件夹路径**。
    *   运行 `Notemd: 检查并删除重复概念笔记` (通过命令面板或侧边栏按钮)。
    *   插件扫描概念笔记文件夹，并使用多条规则 (精确匹配、复数形式、规范化、包含) 将文件名与文件夹外的笔记进行比较。
    *   如果发现潜在的重复项，将出现一个模式窗口，列出文件、标记原因以及冲突文件。
    *   仔细查看列表。点击 **“删除文件”** 将列出的文件移动到系统回收站，或点击 **“取消”** 不执行任何操作。
    *   进度和结果显示在侧边栏/模式日志中。

## 支持的LLM提供商

| 提供商       | 类型  | 需要API密钥 | 注意事项                                                 |
|--------------|-------|------------------|----------------------------------------------------------|
| DeepSeek     | 云    | 是               |                                                          |
| OpenAI       | 云    | 是               | 支持各种模型，如GPT-4o, GPT-3.5                          |
| Anthropic    | 云    | 是               | 支持Claude模型                                           |
| Google       | 云    | 是               | 支持Gemini模型                                           |
| Mistral      | 云    | 是               | 支持Mistral模型                                          |
| Azure OpenAI | 云    | 是               | 需要端点、API密钥、API版本                               |
| OpenRouter   | 云    | 是               | 通过OpenRouter API访问许多模型                           |
| LMStudio     | 本地  | 否 (使用 `EMPTY`)| 通过LM Studio服务器在本地运行模型                        |
| Ollama       | 本地  | 否               | 通过Ollama服务器在本地运行模型                           |

*注意: 对于本地提供商 (LMStudio, Ollama)，请确保相应的服务器应用程序正在运行并且可以在配置的基础URL访问。*
*注意: 对于OpenRouter，请在模型设置中使用其网站上的完整模型标识符 (例如 `google/gemini-flash-1.5`)。*

## 故障排除

### 常见问题
-   **插件未加载**: 确保 `manifest.json`, `main.js`, `styles.css` 位于正确的文件夹 (`<保险库>/.obsidian/plugins/notemd/`) 并重新启动Obsidian。检查开发者控制台 (`Ctrl+Shift+I` 或 `Cmd+Option+I`) 以查找启动错误。
-   **处理失败 / API错误**:
    1.  **检查文件格式**: 确保您尝试处理或检查的文件具有 `.md` 或 `.txt` 扩展名。Notemd目前仅支持这些基于文本的格式。
    2.  使用“测试LLM连接”命令/按钮验证活动提供商的设置。
    3.  仔细检查API密钥、基础URL、模型名称和API版本 (对于Azure)。确保API密钥正确且具有足够的信用/权限。
    4.  确保您的本地LLM服务器 (LMStudio, Ollama) 正在运行且基础URL正确 (例如 LMStudio为 `http://localhost:1234/v1`)。
    5.  检查云提供商的互联网连接。
    6.  **对于单个文件处理错误:** 查看开发者控制台以获取详细的错误消息。如果需要，可以使用错误模式中的按钮复制它们。
    7.  **对于批量处理错误:** 检查保险库根目录中的 `error_processing_filename.log` 文件以获取每个失败文件的详细错误消息。开发者控制台或错误模式可能会显示摘要或常规批处理错误。
-   **LM Studio测试连接失败**: 确保LM Studio服务器正在运行，并且在LM Studio中已加载并选择了正确的模型。测试现在使用聊天完成端点，这应该更可靠。
-   **文件夹创建错误 (“文件名不能包含...”)**:
    *   这通常意味着在设置中提供的路径 (**处理文件文件夹路径** 或 **概念笔记文件夹路径**) 对于Obsidian无效。
    *   **确保您使用的是相对路径** (例如 `Processed`, `Notes/Concepts`) 而**不是绝对路径** (例如 `C:\Users\...`, `/Users/...`)。
    *   检查无效字符: `* " \ / < > : | ? # ^ [ ]`。请注意，即使在Windows上，`\` 对于Obsidian路径也是无效的。使用 `/` 作为路径分隔符。
-   **性能问题**: 处理大型文件或许多文件可能需要时间。减少“分块字数”设置可能会加快API调用速度 (但调用次数会更多)。尝试不同的LLM提供商或模型。
-   **意外链接**: 链接质量在很大程度上取决于LLM和提示。尝试使用不同的模型或温度设置。

## 贡献

欢迎贡献！请参阅GitHub存储库以获取指南: [https://github.com/Jacobinwwey/obsidian-NotEMD](https://github.com/Jacobinwwey/obsidian-NotEMD) 

## 许可证

MIT许可证 - 有关详细信息，请参阅[LICENSE](LICENSE)文件。

---

*Notemd v1.3.2 - 使用AI增强您的Obsidian知识图谱。*
